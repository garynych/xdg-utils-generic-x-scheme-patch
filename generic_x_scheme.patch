From dcb04e3fc69c2a7bbd157d634460759c44791a99 Mon Sep 17 00:00:00 2001
From: Sergey Marochkin <me@ziggi.org>
Date: Sat, 7 Nov 2015 15:02:36 +0300
Subject: [PATCH] Fix generic x-scheme open

---
 scripts/xdg-open.in | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/scripts/xdg-open.in b/scripts/xdg-open.in
index 92a5912..4891974 100644
--- a/scripts/xdg-open.in
+++ b/scripts/xdg-open.in
@@ -368,14 +368,14 @@ open_generic()
         fi
     fi
 
-    if [ -n "$BROWSER" ]; then
-        open_envvar "$1"
-    fi
-
     if has_display; then
         open_generic_xdg_x_scheme_handler "$1"
     fi
 
+    if [ -n "$BROWSER" ]; then
+        open_envvar "$1"
+    fi
+
     # if BROWSER variable is not set, check some well known browsers instead
     if [ x"$BROWSER" = x"" ]; then
         BROWSER=www-browser:links2:elinks:links:lynx:w3m
-- 
2.6.2

